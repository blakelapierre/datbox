<html>
  <title>dat box</title>
  <body>
    <script src="dat.gui.js"></script>
    <script src="mathbox-bundle.js"></script>

    <script>
      setupDatGui(setupMathbox());

      function setupDatGui(controls) {
        var gui = new dat.GUI();

        var parameters = gui.addFolder('Parameters');

        parameters.add(controls, 'xMin', -Math.pow(2, 8), Math.pow(2, 8)).step(1);
        parameters.add(controls, 'yMin', -Math.pow(2, 8), Math.pow(2, 8)).step(1);
        parameters.add(controls, 'width', 1, Math.pow(2, 14)).step(1);
        parameters.add(controls, 'height', 1, Math.pow(2, 12)).step(1);

        parameters.open();
      }

      function setupMathbox() {

        var mathbox = mathBox({
          plugins: ['core', 'controls', 'cursor', 'stats'],
          controls: {
            klass: THREE.OrbitControls
          },
        });

        var three = mathbox.three;

        three.renderer.setClearColor(new THREE.Color(0x000000), 1.0);

        var camera = mathbox.camera({
          position: [0, 0, 1]
        });

        return new Controls();

        function Controls() {
          this.xMin = 1;
          this.yMin = 1;
          this.width = Math.pow(2, 5);
          this.height = Math.pow(2, 4);
        }
      }
    </script>
  </body>
</html>